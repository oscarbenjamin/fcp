<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Oscar Benjamin" />
  <title>EMAT10006 - Further Computer Programming - EMAT10006 - Further programming</title>
  <link rel="stylesheet" href="style.css" type="text/css" />
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>
  <body>
    <div id="header">
        EMAT10006 - Further Computer Programming
    </div>
    <div id="TOC">
      <ul><li><a href="index.html">Site Index</a></li></ul>
<ul>
<li><a href="#section"></a><ul>
<li><a href="#outline">Outline</a></li>
<li><a href="#lists-in-python">Lists in Python</a></li>
<li><a href="#arrays-in-c">Arrays in C</a></li>
<li><a href="#array-example">Array example</a></li>
<li><a href="#computer-memory">Computer memory</a></li>
<li><a href="#computer-memory-1">Computer memory</a></li>
<li><a href="#process-memory">Process memory</a></li>
<li><a href="#array-in-memory">Array in memory</a></li>
<li><a href="#arrays-as-memory-blocks">Arrays as memory blocks</a></li>
<li><a href="#resizing-arrays">Resizing arrays</a></li>
<li><a href="#out-of-bounds-access">Out of bounds access</a></li>
<li><a href="#out-of-bounds-access-1">Out of bounds access</a></li>
<li><a href="#array-indices">Array indices</a></li>
<li><a href="#comparing-arrays">Comparing arrays</a></li>
<li><a href="#array-equality">Array equality</a></li>
<li><a href="#compare-array-elements">Compare array elements</a></li>
</ul></li>
<li><a href="#section-1"></a><ul>
<li><a href="#strings-in-c.">Strings in C.</a></li>
<li><a href="#ascii-code">ASCII code</a></li>
<li><a href="#hello-world-in-ascii">Hello world in ASCII</a></li>
<li><a href="#hello-world-in-ascii-1">Hello world in ASCII</a></li>
<li><a href="#initialising-strings">Initialising strings</a></li>
<li><a href="#strings-in-c">Strings in C</a></li>
<li><a href="#the-string.h-header">The <code>&lt;string.h&gt;</code> header</a></li>
<li><a href="#comparing-strings.">Comparing strings.</a></li>
<li><a href="#parsing-decimal-strings">Parsing decimal strings</a></li>
<li><a href="#parsing-command-line">Parsing command line</a></li>
</ul></li>
<li><a href="#thats-all-folks...">That's all folks...</a></li>
</ul>
    </div>
    <div id="main">
<h1 id="section"><a href="#TOC"></a></h1>
<h2 id="outline"><a href="#TOC">Outline</a></h2>
<ul>
<li><p>Arrays</p></li>
<li><p>Strings</p></li>
</ul>
<h2 id="lists-in-python"><a href="#TOC">Lists in Python</a></h2>
<pre><code>&gt;&gt;&gt; stuff = [1, 2, 3]   # Create a new list
&gt;&gt;&gt; stuff
[1, 2, 3]</code></pre>
<pre><code>&gt;&gt;&gt; stuff[1] = -1       # set list item
&gt;&gt;&gt; stuff
[1, -1, 3]
&gt;&gt;&gt; stuff[0]            # get list item
1</code></pre>
<pre><code>&gt;&gt;&gt; stuff.append(5)     # change list size
&gt;&gt;&gt; stuff
[1, -1, 3, 5]</code></pre>
<pre><code>&gt;&gt;&gt; stuff[2] = &#39;Hello!&#39; # Store different type of object
&gt;&gt;&gt; stuff
[1, -1, &#39;Hello!&#39;, 5]</code></pre>
<h2 id="arrays-in-c"><a href="#TOC">Arrays in C</a></h2>
<ul>
<li><p>Collect similar objects like Python's lists</p></li>
<li><p>Are <em>homogeneous</em> (only one type of item)</p></li>
<li><p><em>Cannot</em> be resized.</p></li>
</ul>
<h2 id="array-example"><a href="#TOC">Array example</a></h2>
<pre><code>/* array.c */

#include &lt;stdio.h&gt;

int main(int argc, char *argv[])
{
  /* Declare and initialise array */
  int numbers[4] = {3, 10, 1024, -1};

  for(int i=0; i&lt;4; i++)
  {
    printf(&quot;numbers[%d] = %d\n&quot;, i, numbers[i]);
  }
  return 0;
}</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall array.c -o array.exe
$ ./array.exe
numbers[0] = 3
numbers[1] = 10
numbers[2] = 1024
numbers[3] = -1</code></pre>
<h2 id="computer-memory"><a href="#TOC">Computer memory</a></h2>
<div class="figure">
<img src="images/task-manager.png" /><p class="caption"></p>
</div>
<h2 id="computer-memory-1"><a href="#TOC">Computer memory</a></h2>
<div class="figure">
<img src="images/processes.svg" /><p class="caption"></p>
</div>
<h2 id="process-memory"><a href="#TOC">Process memory</a></h2>
<div class="figure">
<img src="images/process_memory.svg" /><p class="caption"></p>
</div>
<h2 id="array-in-memory"><a href="#TOC">Array in memory</a></h2>
<div class="figure">
<img src="images/array.svg" /><p class="caption"></p>
</div>
<pre><code>  /* Declare and initialise array */
  int vals[4] = {3, 10, 1024, -1};

  for(int i=0; i&lt;4; i++)
  {
    printf(&quot;vals[%d] = %d\n&quot;, i, vals[i]);
  }</code></pre>
<h2 id="arrays-as-memory-blocks"><a href="#TOC">Arrays as memory blocks</a></h2>
<ul>
<li><p>Compiler always needs to know the size (number of bytes) of any data type.</p></li>
<li><p>An array of type <code>int[N]</code> uses <code>N*sizeof(int)</code> bytes (i.e. <code>N*4</code> bytes).</p></li>
<li><p>An array uses a <em>contiguous</em> block of memory.</p></li>
</ul>
<h2 id="resizing-arrays"><a href="#TOC">Resizing arrays</a></h2>
<ul>
<li><p>You can't resize arrays: the size must be fixed in the declaration.</p></li>
<li><p>Usually choose a size that's big enough.</p></li>
<li><p>Strange things happen if you go over the end of your array...</p></li>
</ul>
<h2 id="out-of-bounds-access"><a href="#TOC">Out of bounds access</a></h2>
<pre><code>  int vals[] = {10, 11, 12}; // implicitly size 3

  for(int i=0; i&lt;10; i++)
  {
    printf(&quot;vals[%d] = %d\n&quot;, i, vals[i]);
  }</code></pre>
<pre><code>vals[0] = 10
vals[1] = 11
vals[2] = 12
vals[3] = 3     &lt;--- i
vals[4] = 0     &lt;--- other stuff
vals[5] = 0
vals[6] = 675862381
vals[7] = 32655
vals[8] = 0
vals[9] = 0</code></pre>
<h2 id="out-of-bounds-access-1"><a href="#TOC">Out of bounds access</a></h2>
<div class="figure">
<img src="images/array2.svg" /><p class="caption"></p>
</div>
<pre><code>vals[0] = 10
vals[1] = 11
vals[2] = 12
vals[3] = 3     &lt;--- i
vals[4] = 0     &lt;--- other stuff
vals[5] = 0
vals[6] = 675862381
vals[7] = 32655
vals[8] = 0
vals[9] = 0</code></pre>
<h2 id="array-indices"><a href="#TOC">Array indices</a></h2>
<ul>
<li><p>If <code>a</code> is an array of size <code>N</code> e.g. <code>int a[N]</code> then valid indices are <code>0</code>, <code>1</code>, <code>2</code>, ..., <code>N-1</code>.</p></li>
<li><p>Negative indices are <em>always</em> invalid.</p></li>
<li><p>The compiler cannot check that you are using valid indices: you need to do it.</p></li>
<li><p>Common source of beginner problems.</p></li>
</ul>
<h2 id="comparing-arrays"><a href="#TOC">Comparing arrays</a></h2>
<pre><code>  int numbers1[4] = {3, 4, 5, 6};
  int numbers2[4] = {3, 4, 5, 6};

  if(numbers1 == numbers2)
  {
    puts(&quot;numbers1 and numbers2 are equal.&quot;);
  }
  else
  {
    puts(&quot;numbers1 and numbers2 are NOT equal!&quot;);
  }</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall compare.c -o compare.exe
$ ./compare.exe
numbers1 and numbers2 are NOT equal!</code></pre>
<h2 id="array-equality"><a href="#TOC">Array equality</a></h2>
<ul>
<li><p>Comparing arrays with <code>==</code> doesn't work.</p></li>
<li><p>An array is only ever equal to itself.</p></li>
<li><p>You probably want to check that both arrays have equal <em>elements</em>.</p></li>
</ul>
<h2 id="compare-array-elements"><a href="#TOC">Compare array elements</a></h2>
<pre><code>  int numbers1[4] = {3, 4, 5, 6};
  int numbers2[4] = {3, 4, 5, 6};

  int equal = 1;
  for(int i=0; i&lt;4; i++)
  {
    if(numbers1[i] != numbers2[i])
    {
      equal = 0;
      break;
    }
  }</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall compare2.c -o compare2.exe
$ ./compare2.exe
numbers1 and numbers2 are equal.</code></pre>
<h1 id="section-1"><a href="#TOC"></a></h1>
<h2 id="strings-in-c."><a href="#TOC">Strings in C.</a></h2>
<ul>
<li><p>In C a string is just an array of type <code>char</code>.</p></li>
<li><p><code>char</code> is short for <em>character</em></p></li>
<li><p>But <code>char</code> is an integer type...</p></li>
</ul>
<h2 id="ascii-code"><a href="#TOC">ASCII code</a></h2>
<div class="figure">
<img src="images/asciifull.gif" /><p class="caption"></p>
</div>
<h2 id="hello-world-in-ascii"><a href="#TOC">Hello world in ASCII</a></h2>
<p><code>'H'</code>(72), <code>'e'</code>(101), <code>'l'</code>(108), <code>'o'</code>(111), <code>' '</code>(20), ... <code>'W'</code>(87), <code>'r'</code>(114), <code>'d'</code>(100), <code>'!'</code>(21), <code>'\n'</code>(10), ...</p>
<pre><code>&gt;&gt;&gt; ord(&#39;a&#39;)
97
&gt;&gt;&gt; chr(97)
&#39;a&#39;</code></pre>
<pre><code>&gt;&gt;&gt; nums = [ord(c) for c in &quot;Hello World!\n&quot;]
&gt;&gt;&gt; nums
[72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 10]
&gt;&gt;&gt; chars = [chr(n) for n in nums]
&gt;&gt;&gt; chars
[&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;W&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;, &#39;!&#39;, &#39;\n&#39;]</code></pre>
<h2 id="hello-world-in-ascii-1"><a href="#TOC">Hello world in ASCII</a></h2>
<pre><code>/* asciihello.c */

#include &lt;stdio.h&gt;

int main(int argc, char *argv[])
{
  char message[] = {
    72, 101, 108, 108, 111,     /* &quot;Hello&quot; */
    32,                         /* &quot; &quot;     */
    87, 111, 114, 108, 100, 33, /* &quot;World&quot; */
    10,                         /* &quot;!&quot;     */
    0                           /* &quot;\0&quot;    */
  };

  puts(message);
  return 0;
}</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall asciihello.c -o asciihello.exe
$ ./asciihello.exe
Hello World!</code></pre>
<h2 id="initialising-strings"><a href="#TOC">Initialising strings</a></h2>
<pre><code>  char message1[] = {72, 101, 108, 108, 111, 32,
                87, 111, 114, 108, 100, 33, 10, 0};

  char message2[] = {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;,
                &#39;W&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;, &#39;!&#39;, &#39;\n&#39;, &#39;\0&#39;};

  char message3[] = &quot;Hello World!\n&quot;;</code></pre>
<p>These are equivalent.</p>
<ul>
<li><p><code>'H'</code> is an integer expression equivalent to <code>72</code> or <code>0x48</code>.</p></li>
<li><p><code>'H'</code> is easier to understand though: readability counts!</p></li>
</ul>
<h2 id="strings-in-c"><a href="#TOC">Strings in C</a></h2>
<ul>
<li>A string is a <em>null-terminated</em> <code>char</code> array.</li>
</ul>
<pre><code>  char message[] = &quot;Hello World!\n&quot;;

  int i = 0;
  while(message[i] != &#39;\0&#39;) /* Check for null zero */
  {
    i++;
  }
  printf(&quot;\&quot;%s\&quot; has %d characters...\n&quot;, message, i);
  printf(&quot;Plus one null-byte.\n&quot;);</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall string_length.c -o string_length.exe
$ ./string_length.exe
&quot;Hello World!
&quot; has 13 characters...
Plus one null-byte.</code></pre>
<h2 id="the-string.h-header"><a href="#TOC">The <code>&lt;string.h&gt;</code> header</a></h2>
<pre><code>/* strlen.c */

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;  /* String functions */

int main(int argc, char *argv[])
{
  char string[] = &quot;A moderately long string&quot;;

  int length = strlen(string);

  printf(&quot;Length: %d\n&quot;, length);

  return 0;
}</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall strlen.c -o strlen.exe
$ ./strlen.exe
Length: 24</code></pre>
<h2 id="comparing-strings."><a href="#TOC">Comparing strings.</a></h2>
<pre><code>  char string1[] = &quot;foo&quot;;
  char string2[] = &quot;bar&quot;;

  if(!strcmp(string1, string2))
  {
    printf(&quot;string1 and string2 are the same\n&quot;);
  }
  else
  {
    printf(&quot;string1 and string2 are different\n&quot;);
  }</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall strcmp.c -o strcmp.exe
$ ./strcmp.exe
string1 and string2 are different</code></pre>
<p><code>strcmp</code> returns <code>0</code> (false) if the strings are equal and <em>non-zero</em> otherwise!</p>
<h2 id="parsing-decimal-strings"><a href="#TOC">Parsing decimal strings</a></h2>
<pre><code>  char string[] = &quot;123&quot;;

  int a;
  if(!sscanf(string, &quot;%d&quot;, &amp;a))
  {
    fprintf(stderr, &quot;Could not parse the string...&quot;);
    return 1; // Indicate error somehow...
  }

  printf(&quot;a = %d    2 * a = %d\n&quot;, a, 2 * a);</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall parse.c -o parse.exe
$ ./parse.exe
a = 123    2 * a = 246</code></pre>
<h2 id="parsing-command-line"><a href="#TOC">Parsing command line</a></h2>
<pre><code>/* argparse.c */

#include &lt;stdio.h&gt;

int main(int argc, char *argv[])
{
  /* Parse the command line */
  int num;
  if(argc != 2 || !sscanf(argv[1], &quot;%d&quot;, &amp;num))
  {
    fprintf(stderr, &quot;Please give a valid number\n&quot;);
    return 1;
  }

  printf(&quot;You entered %d and %d^2 = %d\n&quot;, num, num, num*num);

  return 0;
}</code></pre>
<pre><code>$ make
gcc -std=c99 -Wall argparse.c -o argparse.exe
$ ./argparse.exe
Please give a valid number
$ ./argparse.exe 12
You entered 12 and 12^2 = 144</code></pre>
<h1 id="thats-all-folks..."><a href="#TOC">That's all folks...</a></h1>
<p>(See you on Friday)</p>
    </div>
  </body>
</html>
